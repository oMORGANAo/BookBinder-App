{%extends 'base_security.html.twig' %}

{% block register_page %}

    <div class="signup-container">
        <h2>Sign Up</h2>
        {{ form_start(registrationForm, { 'attr': { 'id': 'registrationForm' } }) }}
        <div class="form-group">
            {{ form_row(registrationForm.firstName, { 'label': 'First Name', 'attr': { 'class': 'form-control', 'id': 'firstName', 'onkeyup': 'validateInput(this, /^[A-Z][a-zA-Z]*$/, "firstNameError");' } }) }}
            <div id="firstNameError" class="error-message-client" style="display: none;">First name should start with a capital letter and not contain digits</div>
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.surname, { 'label': 'Surname', 'attr': { 'class': 'form-control', 'id': 'surname', 'onkeyup': 'validateInput(this, /^[A-Z][a-zA-Z]*$/, "surnameError");' } }) }}
            <div id="surnameError" class="error-message-client" style="display: none;">Surname should start with a capital letter and not contain digits</div>
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.postalCode, { 'label': 'Postal Code', 'attr': { 'class': 'form-control', 'id': 'postalCode', 'onkeyup': 'validateInput(this, /^[0-9]{4}$/, "postalCodeError");' } }) }}
            <div id="postalCodeError" class="error-message-client" style="display: none;">Postal code should be exactly 4 digits and not contain letters</div>
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.birthdate, { 'label': 'Birthdate', 'attr': { 'class': 'form-control', 'id': 'birthdate', 'onchange': 'validateInput(this, /.+/, "birthdateError");' } }) }}
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.email, { 'label': 'Email', 'attr': { 'class': 'form-control', 'id': 'email', 'onkeyup': 'validateInput(this, /^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$/, "emailError");' } }) }}
            <div id="emailError" class="error-message-client" style="display: none;">Please enter a valid email</div>
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.plainPassword.first, { 'label': 'Password', 'attr': { 'class': 'form-control', 'id': 'password1', 'oninput': 'validatePassword(this, "password1Error");' } }) }}
            <div id="password1Error" class="error-message-client" style="display: none;">Password should be at least 8 characters and include at least one uppercase letter, one lowercase letter, one number, and one special character.</div>
        </div>
        <div class="form-group">
            {{ form_row(registrationForm.plainPassword.second, { 'label': 'Reconfirm Password', 'attr': { 'class': 'form-control', 'id': 'password2', 'oninput': 'validatePasswordMatch();' } }) }}
            <div id="password2Error" class="error-message-client" style="display: none;">The password fields must match</div>
        </div>
        <button type="submit" id="submitButton" disabled>Sign Up</button>
        {{ form_end(registrationForm) }}
    </div>

{% endblock %}